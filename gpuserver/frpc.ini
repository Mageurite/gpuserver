# frp Client 配置文件（容器内版本）
# 部署在 GPU Server Docker 容器内
# 用途：连接到 Web Server 的 frps，建立反向隧道

[common]
# frp 服务端地址（Web Server 的 IP 或域名）
# 构建时修改，或使用环境变量 FRP_SERVER_ADDR
server_addr = 51.161.130.234
server_port = 7000

# 认证 token（必须与 frps.ini 中的 token 一致）
token = xwl010907

# 日志配置
log_file = /workspace/gpuserver/logs/frpc.log
log_level = info
log_max_days = 7

# 心跳配置
heartbeat_interval = 30
heartbeat_timeout = 90

# TCP 多路复用
tcp_mux = true

# 自动重连
login_fail_exit = false

# ============================================
# GPU Server 管理api (Port 9000)
# ============================================
[gpu_management_api]
type = tcp
local_ip = 127.0.0.1
local_port = 9000
# Web Server 上暴露的端口
remote_port = 19000

# ============================================
# GPU Server WebSocket (Port 9001)
# ============================================
[gpu_websocket]
type = tcp
local_ip = 127.0.0.1
local_port = 9001
# Web Server 上暴露的端口
remote_port = 19001

# ============================================
# TURN 服务器端口映射
# ============================================
[turn_tcp]
type = tcp
local_ip = 0.0.0.0
local_port = 10110
remote_port = 10110

[turn_udp_10110]
type = udp
local_ip = 0.0.0.0
local_port = 10110
remote_port = 10110

[turn_udp_10111]
type = udp
local_ip = 0.0.0.0
local_port = 10111
remote_port = 10111

[turn_udp_10112]
type = udp
local_ip = 0.0.0.0
local_port = 10112
remote_port = 10112

[turn_udp_10113]
type = udp
local_ip = 0.0.0.0
local_port = 10113
remote_port = 10113

[turn_udp_10114]
type = udp
local_ip = 0.0.0.0
local_port = 10114
remote_port = 10114

[turn_udp_10115]
type = udp
local_ip = 0.0.0.0
local_port = 10115
remote_port = 10115
